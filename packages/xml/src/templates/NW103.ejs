<?xml version="1.0" encoding="UTF-8"?>
<TXLife xmlns="http://ACORD.org/Standards/Life/2" xmlns:a="http://www.w3.org/2005/08/addressing" xmlns:s="http://www.w3.org/2003/05/soap-envelope" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Version="2.20.00">
  <UserAuthRequest>
    <UserLoginName>sgSurify</UserLoginName>
    <UserPswd>
      <CryptType>NONE</CryptType>
      <Pswd>XXX</Pswd>
    </UserPswd>
    <VendorApp>
      <VendorName VendorCode="564">Sureify</VendorName>
      <AppName>ApplyAndBuy</AppName>
      <AppVer>3.1</AppVer>
    </VendorApp>
  </UserAuthRequest>
  <TXLifeRequest PrimaryObjectID="Application_Holding">
    <TransRefGUID><%= utils.generate.uuid.create()%></TransRefGUID>
    <TransType tc="103">New Business Submission</TransType>
    <TransExeDate><%= cx.utils.dayjs().format('YYYY-MM-DD') %></TransExeDate>
    <OLifE>
      <Holding id="Application_Holding">
        <HoldingTypeCode tc="2">Policy</HoldingTypeCode>
        <Purpose tc="4">Personal</Purpose>
        <Policy>
          <LineOfBusiness tc="1">Life</LineOfBusiness>
          <ProductType tc="1">Whole Life</ProductType>
          <ProductCode>1F0N0B0Q5</ProductCode>
          <CarrierCode>Nationwide</CarrierCode>
          <PlanName>Nationwide Heritage Single Premium Whole Life</PlanName>
          <PolNumber>8000100000</PolNumber>
          <Jurisdiction tc="32">NE</Jurisdiction>
          <PaymentMode tc="1">Annual</PaymentMode>
          <PaymentAmt></PaymentAmt>
          <Life>
            <FaceAmt></FaceAmt>
            <Coverage>
              <IndicatorCode tc="1">Base</IndicatorCode>
              <CurrentAmt>100000</CurrentAmt>
              <LifeParticipant PartyID="InsuredParty_1">
                <LifeParticipantRoleCode tc="1">Primary Insured</LifeParticipantRoleCode>
                <TobaccoPremiumBasis tc="1">Nonsmoker</TobaccoPremiumBasis>
                <UnderwritingClass tc="2">Preferred</UnderwritingClass>
              </LifeParticipant>
            </Coverage>
          </Life>
          <FinancialActivity id="FinancialActivity_1">
            <FinActivityType tc="1">Premium Payment</FinActivityType>
            <FinActivityNetAmt>25000</FinActivityNetAmt>
            <Payment id="payment_1">
              <PaymentForm tc="2">Check</PaymentForm>
            </Payment>
          </FinancialActivity>
          <ApplicationInfo>
            <ApplicationType tc="1">New</ApplicationType>
            <ApplicationJurisdiction tc="32">NE</ApplicationJurisdiction>
          </ApplicationInfo>
        </Policy>
        <OLifEExtension VendorCode="564">
          <SplitCommInd tc="0">False</SplitCommInd>
          <SplitCommDesc>abc</SplitCommDesc>
        </OLifEExtension>
      </Holding>
      <%_ if(acord?.InFI?.PIhasainsorannyesno === 'Yes') { _%>
      <%- await include('HoldingPolicy_NW', {acord}) _%>
      <%- await include('HoldingRelations_NW', {acord}) _%>
      <%- await include('HoldingParty_NW', {acord}) _%>
      <%_ } _%>
      <Party id="InsuredParty_1">
        <PartyTypeCode tc="1">Person</PartyTypeCode>
        <GovtIDTC tc="1">SSN</GovtIDTC>
        <GovtID><%=acord?.PI?.SSN?.replace(/[()\-]/g, '')%></GovtID>
        <Person>
          <Prefix><%=acord?.PI?.Prefix%></Prefix>
          <FirstName><%= acord?.PI?.FirstName%></FirstName>
          <MiddleName><%= acord?.PI?.MiddleInitial%></MiddleName>
          <LastName><%= acord?.PI?.LastName%></LastName>
          <Suffix><%=acord?.PI?.Suffix%></Suffix>
          <BirthDate><%=acord?.PI?.DateofBirth%></BirthDate>
          <Gender tc="<%= await lookups.lookup('GENDER', { value: acord?.PI?.Sex}).tc %>"><%= acord?.PI?.Sex%></Gender>
          <DriversLicenseNum><%= acord?.PI?.DLNumber%></DriversLicenseNum>
          <DriversLicenseState tc="<%= await lookups.lookup(types.OLI_LU.DRIVERSLICENSESTATENW, {value: acord?.PI?.DLState}).tc%>"><%= await lookups.lookup(types.OLI_LU.DRIVERSLICENSESTATENW, {value: acord?.PI?.DLState}).key%></DriversLicenseState>
          <BirthJurisdictionTC tc="<%= await lookups.lookup(types.OLI_LU.DRIVERSLICENSESTATENW, {value: acord?.PI?.BirthState}).tc%>"><%= await lookups.lookup(types.OLI_LU.DRIVERSLICENSESTATENW, {value: acord?.PI?.BirthState}).key%></BirthJurisdictionTC>
          <BirthCountry tc="<%= await lookups.lookup(types.OLI_LU.ADDRESSCOUNTRYTC, {value: acord?.PI?.BirthCountry}).tc%>"><%=acord?.PI?.BirthCountry%></BirthCountry>
        </Person>
        <Address>
          <AddressTypeCode tc="1">Residence</AddressTypeCode>
          <Line1><%= acord?.PI?.Address%></Line1>
          <Line2><%= acord?.PI?.AptSuite%></Line2>
          <City><%= acord?.PI?.City%></City>
          <AddressState><%= await lookups.lookup(types.OLI_LU.DRIVERSLICENSESTATENW, {value: acord?.PI?.State}).key%></AddressState>
          <AddressStateTC tc="<%= await lookups.lookup(types.OLI_LU.DRIVERSLICENSESTATENW, {value: acord?.PI?.State}).tc%>"><%= await lookups.lookup(types.OLI_LU.DRIVERSLICENSESTATENW, {value: acord?.PI?.State}).key%></AddressStateTC>
          <Zip><%=acord?.PI?.Zip?.replace(/[()\-]/g, '')%></Zip>
        </Address>
        <EMailAddress>
          <AddrLine><%= acord?.PI?.EmailAddress%></AddrLine>
        </EMailAddress>
        <Phone>
          <PhoneTypeCode tc="<%= await lookups.lookup(types.OLI_LU.PHONETYPE, {value: acord?.PI?.PhoneType}).tc _%>"><%=acord?.PI?.PhoneType _%></PhoneTypeCode>
          <AreaCode><%=acord?.PI?.PhoneNumber?.substring(0,5)?.replace(/[()\-]/g, '')%></AreaCode>
          <DialNumber><%=acord?.PI?.PhoneNumber?.substring(6)?.replace(/[()\-]/g, '')%></DialNumber>
          <PrefPhone tc="1">True</PrefPhone>
        </Phone>
        <Risk>
          <OLifEExtension>
            <ExistingInsuranceInd tc="<%= acord?.InFI?.PIhasainsorannyesno === 'Yes' ? 1 : 0 _%>"><%= acord?.InFI?.PIhasainsorannyesno === 'Yes' ? "True" : "False" _%></ExistingInsuranceInd>
          </OLifEExtension>
        </Risk>
      </Party>
      <%- await include('PartySecondaryAddressee_NW', {acord}) _%>
      <%- await include('PartyOwner_NW', {acord}) _%>
      <%- await include('PartyContingentOwner_NW', {acord}) _%>
      <%- await include('PartyPayor_NW', {acord}) _%>
      <Relation OriginatingObjectID="Application_Holding" RelatedObjectID="InsuredParty_1" id="Relation_InsuredParty">
        <RelationRoleCode tc="32">Insured</RelationRoleCode>
      </Relation>
      <%_ if(acord?.PI?.IsPIOwner === 'Yes' || acord?.PI?.Payor === 'Insured'){ _%>
      <Relation OriginatingObjectID="Application_Holding" RelatedObjectID="InsuredParty_1" id="Relation_InsuredPartyPayor">
        <RelationRoleCode tc="31">Payor</RelationRoleCode>
      </Relation> <%_ }  _%>
      <%_ if(acord?.PI?.Payor === 'Owner'){ _%>
      <Relation OriginatingObjectID="Application_Holding" RelatedObjectID="PartyOwner_1" id="Relation_PartyOwner">
        <RelationRoleCode tc="31">Payor</RelationRoleCode>
      </Relation>
      <Relation OriginatingObjectID="PartyOwner_1" RelatedObjectID="PartyPayor_1" id="Relation_PartyOwnerPartyPayor">
        <RelationRoleCode tc="31">Payor</RelationRoleCode>
        <RelationDescription tc="91">Self</RelationDescription>
      </Relation><%_ } _%>
      <%_ if(acord?.PI?.IsPIOwner === 'Yes'){ _%>
        <Relation OriginatingObjectID="Application_Holding" RelatedObjectID="InsuredParty_1" id="Relation_PartyOwner">
          <RelationRoleCode tc="8">Owner</RelationRoleCode>
        </Relation><%_ } _%>
      <%_ if(acord?.Parties?.length > 0 ) { let count = 0 _%>
      <%_ for (const [index,party] of acord?.Parties?.entries()) {if(party?.PartyType === 'PB'){count = count + 1;} _%>
      <%- await include('Party_NW',{party,i:index, length: acord?.Parties?.length, count: count}) _%>
      <%_ } _%>
      <%_ } _%>
      <%- await include('Relations_NW', {acord}) _%>
    </OLifE>
  </TXLifeRequest>
</TXLife>
